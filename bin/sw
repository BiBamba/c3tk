#!/usr/bin/env bash

image="tools:latest"

cmd="${1}" ; shift

docker_run() {
  exec docker run --rm -it "${@}"
}

touch ~/.saferc ~/.vaultrc ~/.flyrc

case "${cmd}" in 
  (bash)
    docker_run \
      -v ~/:/root \
      "${image}" bash
    ;;
  (aws)
    docker_run \
      -v ~/.aws:/root/.aws \
      "${image}" aws
    ;;
  (bosh)
    docker_run \
      -v ~/.bosh:/root/.bosh \
      "${image}" bosh
    ;;
  (cf)
    docker_run \
      -v :/root/.cf \
      "${image}" cf
    ;;
  (cc-me)
    docker_run -w /ccme \
      -v $PWD:/ccme \
      "${image}" cc-me
    ;;
  (sipcalc)
    docker_run \
      "${image}" sipcalc
    ;;
  (whois)
    docker_run \
      "${image}" whois
    ;;
  (netcat)
    docker_run \
      "${image}" netcat
    ;;
  (tcpdump)
    docker_run \
      "${image}" tcpdump
    ;;
  (tig)
    docker run --rm -w /app -it \
      -v $PWD:/app \
      "${image}" tig
    ;;
  (nmap)
    docker_run \
      "${image}" nmap
    ;;
  (tmux)
    docker run --rm -w /app -it \
      -v $PWD:/app \
      "${image}" tmux
    ;;
  (tmux)
    docker run --rm -w /app -it \
      -v $PWD:/app \
      "${image}" gpg
    ;;
  (credhub)
    docker_run \
      -v ~/.credhub:/root/.credhub \
      "${image}" credhub
    ;;
  (genesis)
    docker run --rm -w /genesis -it \
      -v ~/.ssh:/root/.ssh \
      -v ~/.saferc:/root/.saferc \
      -v ~/.vaultrc:/root/vaultrc \
      -v ~/.credhub:/root/.credhub \
      -v ~/.bosh:/root/.bosh \
      -v ~/.cf:/root/.cf \
      -v $PWD:/genesis \
      "${image}" genesis
    ;;
  (gcloud)
    docker_run \
      -v ~/.gcp:/root/.gcp \
      "${image}" gcloud
    ;;
  (gsutil)
    docker_run \
      -v ~/.gcp:/root/.gcp \
      "${image}" gsutil
    ;;
  (jq)
    docker_run \
      "${image}" /bin/jq
    ;;
  (fly)
    docker_run \
      -v ~/.flyrc:/root/.flyrc \
      "${image}" fly
    ;;
  (k9s)
    docker_run \
      -v ~/.kube:/root/.kube \
      -v ~/.config:/root/config \
      "${image}" k9s
    ;;
  (kubectl)
    docker_run \
      -v ~/.kube:/root/.kube \
      "${image}" kubectl
    ;;
  (spruce)
    docker_run \
      -v $PWD:/root \
      "${image}" spruce
    ;;
  (safe)
    docker_run \
      -v ~/.saferc:/root/.saferc \
      -v ~/.vaultrc:/root/.vaultrc \
      "${image}" safe
    ;;
  (vault)
    docker_run \
      -v ~/.vaultrc:/root/.vaultrc \
      "${image}" vault
    ;;
esac

exit 0
